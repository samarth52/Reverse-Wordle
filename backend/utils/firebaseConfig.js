const admin = require('firebase-admin')
const { ADMIN_CONFIG } = require('./envConfig')

admin.initializeApp({
  credential: admin.credential.cert(ADMIN_CONFIG),
})

const auth = admin.auth()
auth
  .verifyIdToken('eyJhbGciOiJSUzI1NiIsImtpZCI6ImFkMWIxOWYwZjU4ZTJjOWE5Njc3M2M5MmNmODA0NDEwMTc5NzEzMjMiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiU2FtYXJ0aCBDaGFuZG5hIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FJdGJ2bW1BTml0TmViOUZHZlpaa3cxWVNQRkVwMnk2RXV2bGVvSGpQREZtPXM5Ni1jIiwiaXNzIjoiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL3Rlc3QtcmV2ZXJzZS13b3JkbGUiLCJhdWQiOiJ0ZXN0LXJldmVyc2Utd29yZGxlIiwiYXV0aF90aW1lIjoxNjYwNDYwMjc0LCJ1c2VyX2lkIjoiS0tlZFpwdEVxNlZybWpUUkk5dnNmT0F4RFdyMSIsInN1YiI6IktLZWRacHRFcTZWcm1qVFJJOXZzZk9BeERXcjEiLCJpYXQiOjE2NjA0NjU0ODYsImV4cCI6MTY2MDQ2OTA4NiwiZW1haWwiOiJzYW1hcnRoY2hhbmRuYTUyQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7Imdvb2dsZS5jb20iOlsiMTExNzQwMzI4NzAyMTY2OTIwNTQzIl0sImVtYWlsIjpbInNhbWFydGhjaGFuZG5hNTJAZ21haWwuY29tIl19LCJzaWduX2luX3Byb3ZpZGVyIjoiZ29vZ2xlLmNvbSJ9fQ.EF7kKIBilQ7eBkiUxFYgd3z4L5sZKi2H29LoUiyc6kcvWJvfzu_3o0NKucJf08tPh1v8zNJHH9eVAeiFh8FmBbFzyyb4SLvI7S7VCB5ZYjoYo5DOS9DD5xemo_1kXrY3SVsxWyHVWiHdjFKjCPCfVaPjAhz3KM6seTz6AT5ViZzgUkibbHPG5FJDNNvBRY_MaA1nJvk8v1JOA4KJrl1eQvIvSEKn0bfQYtW3QBXICNBX6wZigLAdXVf8nHEOv6618kyO6eEJU2s-vFsfRlnE2Yik8Ygq1vmKmuFbJWzFRf9Suo45p2lgX76q2I_nwAaH7YkREUMY3LbpVNR5Q5UP6w')
  .then((decodedToken) => console.log(decodedToken))
module.exports = auth
